---
title: 03. 함수
date: "2021. 11. 17"
summary: Clean Code(클린 코드) 3장을 읽고 학습한 내용 정리
---

> Clean Code(클린 코드) 책을 읽으면서 정리한 내용입니다.

<br>

- 읽기 쉬운 함수
- 의도를 분명하게 파악할 수 있는 함수

## 함수를 작성하는 방법
### 작게 만들어라
함수를 가능한 짧게 작성한다. 모든 함수를 2~4줄 정도로 작성할 수 있으면 좋다.    
if/else, while문 안에서 들여 쓰기는 한 줄로 하고 넘어가는 코드는 별도의 함수를 작성해서 호출한다면 가능하다. 이때 블록 안에서 호출하는 함수의 이름을 적절히 잘 지어서 코드를 명확하게 이해할 수 있도록 한다.

<br>

### 한 가지만 해라
**함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야한다.**

함수 내에서 수행하는 작업들 모두 동일한 한 가지 목적만을 위해야 한다. 의미 있는 이름으로 다른 함수로 추출할 수 있는 작업이 있다면 그 함수는 여러 작업을 하고 있는 것이다.   

renderPageWithSetupsAndTeardowns 함수는 페이지를 랜더링하는 하나의 목적만 가져야 한다.    
SetupsAndTeardowns는 페이지 랜더링과는 다른 목적에 의미를 가지는 별도의 함수로 추출될 수 있다.

<br>

### 함수 당 추상화 수준은 하나로
함수 내 모든 문장의 추상화 수준이 동일해야 한다. 한 함수 내에 추상화 수준이 여러 개라면 한 가지 일을 하고 있다고 볼 수 없다.    

#### 내려가기 규칙
코드를 위에서부터 단계별로 읽으면서 내려가면 추상화 수준도 한 단계식 낮아지도록 해야 한다. 추상화 단계가 낮아진 다는 것은 단계가 낮아질수록 좀 더 명확하고 구체적인 작업을 처리한다. 글을 작성할 때 큰 범위의 대주제를 기준으로 중주제, 소주제로 점점 더 구체적이게 작성하는 게 글의 내용을 파악하기 쉽다. 코드의 추상화 단계도 그렇게 작성되어야 한다.

<br>

### Switch 문
??

<br>

### 서술적인 이름을 사용하라
함수의 이름만 보고도 어떤 작업을 할지 짐작할 수 있도록 서술적인 이름을 사용하는 것이 좋다. 함수 명이 길어져도 상관없다. 함수가 한 가지 일만 하도록 작고 단순하게 작성했다면 함수 이름을 짓는 것도 쉬워질 것이다. 

<br>

### 함수 인수
함수의 인수 개수는 작을수록 좋다. 가능한 인수가 없도록 작성하는게 좋으며 3개부터는 피하는 편이 좋다. 플래그 인수는 사용하지 말자.

#### 단항 인수
가장 흔한 경우 두 가지
1. 인수에 대한 질문을 던지는 경우
	boolean fileExists("FileName");
2. 인수를 뭔가로 변환하는 경우
	InputStream fileOpen("MyFile");

#### 이항 함수
new Point(x, y); 와 같이 적절한 이유가 필요하다.

#### 삼항 함수
모두가 납득할 수 있는 특별한 이유가 없다면 사용하지 않는다.

<br>

### 부수 효과를 일으키지 마라
함수에서 한 가지 일만 하겠다고 약속하고 남몰래 다른 일을 하지 않는다. 함수를 호출할 때 함수의 이름만 보고 호출 했다가 의도하지 않는 동작에 홀란을 초래할 수 있다. 

<br>

### 명령과 조회를 분리하라
뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다. 

<br>

### 오류 코드보다 예외를 사용하라
오류 코드는 호출자에서 오류를 곧바로 처리해야 한다는 단점이 있다. 또 명령과 조회를 분리하라는 원칙도 위반한다. 오류 코드보다는 예외를 사용하는 것이 좋다. 

<br>

#### try/catch 블록 뽑아내기
try/catch 블록을 별도의 함수로 뽑아내는게 좋다. 정상적인 동작과 오류 처리를 분리하는게 코드를 이해하고 수정하기 쉽다.

<br>

#### 오류 처리도 한 가지 작업이다.
오류 처리도 함수는 '한 가지' 일만 해야한다는 원칙에서 한 가지 작업에 속한다고 보면 된다.

<br>

### 반복하지 마라
증복은 소프트웨어에서 악의 근원이다. 많은 프로그래밍 원칙과 기법이 중복을 제거하기 위한 목적을 가진다. 

<br>

### 함수를 어떻게 짜죠?
글짓기와 비슷하다. 서투르게 초안을 작성하고, 처음에는 길고 복잡한 코드를 작성할 수 있다. 이 후에 코드를 다듬고, 별도의 함수로 분리하고, 이름을 바꾸고, 중복을 제거하면서 코드를 개선한다. 이 과정에서 코드는 항상 단위 테스트를 통과해야 한다. 
