---
title: 01. 깨끗한 코드
date: "2021. 11. 17"
summary: Clean Code(클린 코드) 1장을 읽고 학습한 내용 정리
---

> 이 책은 좋은 프로그램 작성 요령을 설명하는 책이다.

## 책을 읽는 목표
- 좋은 코드
- 좋은 코드와 나쁜 코드를 구분하는 능력
- 좋은 코드를 작성하는 요령
- 나쁜 코드를 좋은 코드로 바꾸는 실력

<br>

## 코드는 요구사항을 표현하는 언어
애플리케이션을 개발할 때 모델이나 요구사항 분석이 중요하다. 앞으로 구현해야 할 비즈니스는 더더욱 복잡해질 것이기 때문에 설계, 추상화에 많은 시간을 투자해야 하는 것이 사실이다. 그렇다고 해서 코딩에 신경을 덜 써도 된다는 소리가 절대 아니다. 잘 설계된 프로젝트도 마지막에 코드로 작성된다. **코드는 요구사항을 표현하는 것이다.**    
좋은 코드를 작성하는 방법을 숙지하고, 좋은 코드를 유지하는 것이 힘들게 분석한 요구사항을 잘 활용하는 방법이자 개발자의 소양이다.

<br>

## 나쁜 코드
좋은 코드가 중요하다는 사실은 개발자라면 대부분 다 공감할 수 있다. **오랫동안 나쁜 코드에 시달려왔기 때문에..**

- 제품의 업데이트가 점점 늦어지는 이유
- 발생했던 버그가 재발하는 이유
- 프로그램이 죽는 이유
- 프로그램 성능이 느려지는 이유

이런 이유들은 나쁜 코드로 인해서 발생한다. 나쁜 코드는 점점 더 지속적으로 나빠지며 그러다 감당할 수 없는 수준까지 이른다. 

### 르블랑의 법칙
나쁜코드는 왜 작성하게 될까??
- 급하게 서둘러서 작성하느라
- 점점 늘어지는 프로젝트에 지겨워서
- 다른 업무가 너무 밀려있기 때문에 후딱 해치우려고

대부분 시간에 쫓기는 이유가 크다. 일단 지금 당장이 너무 급해서 **일단 돌아가도록만 코딩하고, 부족한 부분은 다음에 시간이 있을 때 수정해야겠다**는 마음에서 일 것이다.    
**그런 나중은 절대 돌아오지 않는다.(르블랑의 법칙)**

<br>

## 나쁜 코드로 치르는 대가
코드를 매번 분석해야 하며 개발의 속도는 점점 더 떨어지게 된다. 조금이라도 개선을 해보려고 인력을 보충하려고 해도 새로운 인력은 제품을 이해하는 것을 넘어서 코드까지 분석해야 하기 때문에 그마저도 어렵다.

![나쁜 코드의 생산성 표](bad_code_productivity.png)

결국 재설계를 하고 새 시스템을 만들게 된다. 새 시스템은 기존 시스템의 기능을 100% 구현하면서 기존 시스템이 유지보수되면서 가해지는 변경사항도 모두 따라잡아야 한다. 이 과정에서 이탈자(퇴사)도 생길 수 있어 상당히 오랜 시간이 걸릴 수 있다.

<br>

## 개발자의 의무
나쁜 코드가 작성되는 가장 큰 이유는 조급한 고객과 마케팅 부서, 관리자들의 요구로 인해서 촉박해진 일정 때문이다. 시간에 쫓겨 제대로 코딩할 시간이 없다.    

이런 비슷한 이유의 불평을 해본 경험이 있다면 그건 다 개발자의 핑계이다.

고객과 마케팅 부서, 관리자가 우리에게 요구하는 것은 그들의 역할이고, 책임이기 때문이다. 그들은 본인들의 일을 굉장히 잘하고 있다. 문제는 그들에게 충분한 정보를 제공하지 못한 개발자에게 있다.    

좋은 코드를 유지하는 것은 프로그래머의 책임이고 역할이다. 좋은 코드를 유지하기 위해서 충분한 시간을 확보하려고 노력해야 한다. 관리자가 이해하지 못한다면 나쁜 코드의 위험성을 그들이 이해할 수 있도록 적극적으로 나서서 설명하고 이해시킬 필요가 있다.

<br>

## 코드 감각
좋은 코드와 나쁜 코드를 구분할 수 있다고 해서 좋은 코드를 작성할 수 있는 것은 아니다. 보는 것과 직접 하는 것은 당연하게 다르다. 전시회에 가서 좋은 그림을 볼 수 있다고 해서 내가 좋은 그림을 그릴 수 있는 것은 아닌 것과 같다.    

좋은 코드를 작성하려면 힙겹게 습득한 코딩 감각이 필요하다. 

<br>

## 유명한 프로그래머들이 말하는 좋은 코드
### 비야네 스트롭스트룹
- 논리가 간단해야 버그가 숨어들지 못한다.
- 의존성을 최대한 줄여야 유지보수가 쉽다.
- 오류는 명백한 전략에 의거해 철저히 처리한다.
- **깨끗한 코드는 한 가지를 제대로 한다.**

### 그래디 부치
- 깨끗한 코드는 단순하고 직접적이다.
- 잘 쓴 문장처럼 잘 읽힌다.
- 의도를 숨기지 않고, 오히려 명쾌한 추상화와 단순한 제어문으로 가득하다.

### 큰 데이브 토마스
- 깨끗한 코드는 읽기 쉽고 고치기 쉽다.
- 단위 테스트와 인수 테스트가 존재한다.
- 깨끗한 코드에는 의미 있는 이름이 붙는다.
- 특정 목적을 달성하는 방법은 하나만 제공한다.
- 의존성이 최소이며 각 의존성을 명확히 정의한다.

### 마이클 페더스
- 깨끗한 코드는 언제나 누군가 주의 깊게 짰다는 느낌을 준다.
- 고치려고 살펴봐도 손 댈 곳이 없다.

### 론 제프리스
- 중복되는 코드가 없다.
- 한가지 기능만 수행한다.
- 의미있는 이름을 사용한다.
- 추상화한다.

메서드가 여러 기능을 수행한다면 메서드 추출 리팩터링을 통해서 기능을 명확하게 기술한 메서드 하나와 기능을 실제로 수행하는 메서드 여러 개로 나누는게 좋다.

### 워드 커닝햄
- 짐작하는 기능을 그대로 수행한다.
- 코드가 문제를 풀기 위한 언어로 보인다.

### 저자
#### 코드를 짜기 위해서 코드를 읽는다.
새 코드를 짜기 위해서 기존 코드를 읽는다. 그렇기 때문에 코드를 읽기 쉽도록 명확하게 작성할 필요가 있다.

#### 보이스카우트 규칙
잘 짠 코드를 유지하는 것도 중요하다. "캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라" 보이스카우트 규칙처럼 처음 체크아웃할 때보다 좀 더 깨끗한 코드를 푸시한다면 코드가 더 나빠질 수 없다.
